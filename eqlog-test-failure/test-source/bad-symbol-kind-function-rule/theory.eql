type Foo;

rule bar {
    if x: Foo;
    if y: Foo;
    then x = y;
}

rule {
    if x = bar(y);
    then x = y;
}
